<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="生活，我们是认真的！">
<meta property="og:type" content="website">
<meta property="og:title" content="Shining Moon">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Shining Moon">
<meta property="og:description" content="生活，我们是认真的！">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shining Moon">
<meta name="twitter:description" content="生活，我们是认真的！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Shining Moon </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Shining Moon</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/23/J06-计算属性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/23/J06-计算属性/" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-23T19:11:01+08:00">
                2017-07-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p> 模板内的表达式是非常便利的，但是他们实际上只是用于简单的运算。在模板中放入太多的逻辑会让模板过重且难以维护。例如：</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">    &#123;&#123; message.split('').reverse().join('') &#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p> 在这种情况下，模板不再简单和清晰。在意识到这是反向显示message之前，你不得不再次确认第二遍。当你想要在模板中多次反向显示message的时候，问题会变得更糟糕。</p>
<p> 这就是对于任何复杂逻辑，你都应当使用计算属性的原因。</p>
<h1 id="基础例子"><a href="#基础例子" class="headerlink" title="基础例子"></a>基础例子</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Original message: '&#123;&#123;message&#125;&#125;'<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Computed reversed message : '&#123;&#123;reversedMessage&#125;&#125;'<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">el</span>:<span class="string">"#app"</span>,</div><div class="line">    <span class="attr">data</span>:&#123;</div><div class="line">        <span class="attr">message</span>:<span class="string">"hello"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">computed</span>:&#123;</div><div class="line">        <span class="attr">reversedMessage</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.message.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>结果：<br>Original message： ‘hello’<br>Computed reversed message: ‘olleH’</p>
<p>这里我们声明一个计算属性<code>reversedMessage</code>。我们提供的函数将用作属性<code>vm.reversedMessage</code>的getter。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(vm.reversedMessage); <span class="comment">// olleH</span></div><div class="line">vm.message = <span class="string">"Goodbye"</span>;</div><div class="line"><span class="built_in">console</span>.log(vm.reversedMessage); <span class="comment">//  eybdooG</span></div></pre></td></tr></table></figure>
<p>你可以像绑定普通属性一样在模板中绑定计算属性。vue知道<code>vm.reversedMessage</code>依赖于<br><code>vm.message</code>,因此当<code>vm.message</code>发生改变时，所有依赖于<code>vm.reversedMessage</code>的绑定也会更新。</p>
<h1 id="计算属性vs-Methods"><a href="#计算属性vs-Methods" class="headerlink" title="计算属性vs Methods"></a>计算属性vs Methods</h1><p>你可能已经注意到我们可以通过调用表达式中的method来达到同样的效果：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Reserved message:'&#123;&#123;reversedMessage()&#125;&#125;'<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">methods:&#123;</div><div class="line">    <span class="attr">reversedMessage</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.message.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我们可以将同一函数定义为一个method而不是一个计算属性。对于最终的结果，两种方式确实是相同的。然而，不同的是计算属性是基于他们的依赖进行缓存的。计算属性只有在它的相关依赖发生改变时才会重新求值。这意味着只要<code>message</code>还没有发生变化，多次访问<code>reversedMessage</code>计算属性会立即返回之前的计算结果，而不必再次执行函数。</p>
<p>这也同样意味着下面的计算属性将不再更新，因为<code>Date.now()</code>不是响应式依赖：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">computed:&#123;</div><div class="line">    <span class="attr">now</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Date</span>.now()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>相比而言，只要发生重新渲染，method调用总会执行该函数。</p>
<p>我们为什么需要缓存？假设我们有一个性能开销比较大的的计算属性 A ，它需要遍历一个极大的数组和做大量的计算。然后我们可能有其他的计算属性依赖于 A 。如果没有缓存，我们将不可避免的多次执行 A 的 getter！如果你不希望有缓存，请用 method 替代。</p>
<h1 id="computed属性vs-Watched属性"><a href="#computed属性vs-Watched属性" class="headerlink" title="computed属性vs Watched属性"></a>computed属性vs Watched属性</h1><p>vue确实提供了一种更通用的方式来观察和响应vue实例上的数据变动：watch属性。当你有一些数据需要随着其他数据变动而变动时，你很容易滥用<code>watch</code>–特别是如果你之前使用过AngularJS。然而，通常更好的想法是使用computed属性而不是命令式的watch回调。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">el</span>:<span class="string">"#app"</span>,</div><div class="line">    <span class="attr">data</span>:&#123;</div><div class="line">        <span class="attr">firstName</span>:<span class="string">'Foo'</span>,</div><div class="line">        <span class="attr">lastName</span>:<span class="string">'Bar'</span>,</div><div class="line">        <span class="attr">fullName</span>:<span class="string">'Foo Bar'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">watch</span>:&#123;</div><div class="line">        <span class="attr">firstName</span>:<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</div><div class="line">            <span class="keyword">this</span>.fullName = val + <span class="string">" "</span> + <span class="keyword">this</span>.lastName;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">lastName</span>:<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</div><div class="line">            <span class="keyword">this</span>.fullName = <span class="keyword">this</span>.firstName + <span class="string">" "</span> + val;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>上面代码是命令式的和重复的。将它与computed属性的版本进行比较：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">el</span>:<span class="string">"#app"</span>,</div><div class="line">    <span class="attr">data</span>:&#123;</div><div class="line">        <span class="attr">firstName</span>:<span class="string">'Foo'</span>,</div><div class="line">        <span class="attr">lastName</span>:<span class="string">'Bar'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">computed</span>:&#123;</div><div class="line">        <span class="attr">fullName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">" "</span> + <span class="keyword">this</span>.lastName;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="计算setter"><a href="#计算setter" class="headerlink" title="计算setter"></a>计算setter</h1><p>计算属性默认只有getter，不过在需要时你也可以提供一个setter：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//....</span></div><div class="line">computed:&#123;</div><div class="line">    <span class="attr">fullName</span>:&#123;</div><div class="line">        <span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">" "</span> + <span class="keyword">this</span>.lastName;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> names = newValue.split(<span class="string">' '</span>);</div><div class="line">            <span class="keyword">this</span>.firstName = names[<span class="number">0</span>];</div><div class="line">            <span class="keyword">this</span>.lastName = names[names.length<span class="number">-1</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>现在再运行<code>vm.fullName=&#39;John Doe&#39;</code>时，setter会被调用，<code>vm.firstName</code>和<code>vm.lastName</code>也会相应的被更新。</p>
<h1 id="观察Watchers"><a href="#观察Watchers" class="headerlink" title="观察Watchers"></a>观察Watchers</h1><p>虽然计算属性在大多数情况下更适合，但是有时也需要一个自定义的watcher。这是为什么vue提供一个更通用的方法通过watch选项，来响应数据的变化。当你想要在数据变化响应时，执行异步操作或开销较大的操作，这是很有用的。<br>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">        Ask a yes/no question:</div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">'question'</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; answer &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> watchVm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">el</span>:<span class="string">"#app"</span>,</div><div class="line">    <span class="attr">data</span>:&#123;</div><div class="line">        <span class="attr">question</span>:<span class="string">""</span>,</div><div class="line">        <span class="attr">answer</span>:<span class="string">"I cannot given you an answer until you ask a question"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">watch</span>:&#123;</div><div class="line">        <span class="attr">question</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newQuestion</span>)</span>&#123;</div><div class="line">            <span class="keyword">this</span>.answer = <span class="string">"waiting for you stop typing..."</span>;</div><div class="line">            <span class="keyword">this</span>.getAnswer();</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">methods</span>: &#123;</div><div class="line">        <span class="comment">// _.debounce 是一个通过 lodash 限制操作频率的函数。</span></div><div class="line">        <span class="comment">// 在这个例子中，我们希望限制访问yesno.wtf/api的频率</span></div><div class="line">        <span class="comment">// ajax请求直到用户输入完毕才会发出</span></div><div class="line">        <span class="comment">// 学习更多关于 _.debounce function (and its cousin</span></div><div class="line">        <span class="comment">// _.throttle), 参考: https://lodash.com/docs#debounce</span></div><div class="line">        getAnswer: _.debounce(</div><div class="line">          <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> vm = <span class="keyword">this</span></div><div class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.question.indexOf(<span class="string">'?'</span>) === <span class="number">-1</span>) &#123;</div><div class="line">              vm.answer = <span class="string">'Questions usually contain a question mark. ;-)'</span></div><div class="line">              <span class="keyword">return</span></div><div class="line">            &#125;</div><div class="line">            vm.answer = <span class="string">'Thinking...'</span></div><div class="line">            axios.get(<span class="string">'https://yesno.wtf/api'</span>)</div><div class="line">              .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</div><div class="line">                vm.answer = _.capitalize(response.data.answer)</div><div class="line">              &#125;)</div><div class="line">              .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">                vm.answer = <span class="string">'Error! Could not reach the API. '</span> + error</div><div class="line">              &#125;)</div><div class="line">          &#125;,</div><div class="line">          <span class="comment">// 这是我们为用户停止输入等待的毫秒数</span></div><div class="line">          <span class="number">500</span></div><div class="line">        )</div><div class="line">      &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>在这个示例中，使用 watch 选项允许我们执行异步操作（访问一个 API），限制我们执行该操作的频率，并在我们得到最终结果前，设置中间状态。这是计算属性无法做到的。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/21/H14-angular-controller通信/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/21/H14-angular-controller通信/" itemprop="url">
                  angular-controller之间通信
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-21T00:00:00+08:00">
                2017-07-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>由于近来canvas图形界面的开发需求，controller之间的通信成了必不可少的一方面。</p>
<p>在Angular中，controller之间通信的方式主要有三种：</p>
<ul>
<li>作用域继承。利用子controller控制父controller上的数据。(父controller中的数据要为引用类型，不能是基本类型。为的是保证数据的变化可以同时反映到不同的controller上)</li>
<li>注入服务。把需要共享的数据注册为一个service，在需要的controller中注入。</li>
<li>基于事件。利用angular的事件机制，使用<code>$on</code>、<code>$emit</code>和<code>$broadcast</code>。<br>其中，作用域继承仅限于上下级之间的通信，注入服务和基于事件的机制可以实现任意级别的controller通信。</li>
</ul>
<h1 id="作用域继承"><a href="#作用域继承" class="headerlink" title="作用域继承"></a>作用域继承</h1><p>页面：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"parentCtrl"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>data in parent controller : &#123;&#123;data.name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"childCtrl"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"data.name"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>控制器：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'demo'</span>,[])</div><div class="line">.controller(<span class="string">"parentCtrl"</span>,[<span class="string">"$scope"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">    $scope.data = &#123;</div><div class="line">        <span class="attr">name</span>: <span class="string">'zhangsan'</span></div><div class="line">    &#125;</div><div class="line">&#125;])</div><div class="line">.controller(<span class="string">"childCtrl"</span>, [<span class="string">"$scope"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<p>以上是父controller中的数据是引用类型的情况。如果父controller中的数据是基本类型，可通过<code>$scope.$parent.data</code>访问。<br><strong>该方式只适用于父子级别的controller之间的通信</strong></p>
<h1 id="注入服务"><a href="#注入服务" class="headerlink" title="注入服务"></a>注入服务</h1><p>在Angular中，服务是一个单例，所以在服务中生成一个对象，该对象就可以利用依赖注入的方式在所有的控制器中共享。<br>定义一个service：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">"demo"</span>)</div><div class="line">.factory(<span class="string">"Data"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">name</span>: <span class="string">'zhangsan'</span></div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>页面:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"childCtrl1"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>data in child controller 1 : &#123;&#123;data.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">ng-model</span>=<span class="string">"data.name"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"childCtrl2"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>data in child controller 2 : &#123;&#123;data.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">ng-model</span>=<span class="string">"data.name"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>控制器：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">.controller(<span class="string">"childCtrl1"</span>,[<span class="string">"$scope"</span>,<span class="string">"Data"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,Data</span>)</span>&#123;</div><div class="line">    $scope.data = Data;</div><div class="line">&#125;])</div><div class="line">.controller(<span class="string">"childCtrl2"</span>,[<span class="string">"$scope"</span>,<span class="string">"Data"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,Data</span>)</span>&#123;</div><div class="line">    $scope.data = Data;</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<h1 id="基于事件"><a href="#基于事件" class="headerlink" title="基于事件"></a>基于事件</h1><p>Angular为<code>$scope</code>提供了冒泡和隧道机制，<code>$broadcast</code>会把事件广播给所有子controller，而<code>$emit</code>则会将事件冒泡传递给父controller，<code>$on</code>则是angular的事件监听函数，利用这三者，可以实现上下级和同级(需要构造一个共同的父级control)之间的通信。</p>
<h2 id="上下级之间"><a href="#上下级之间" class="headerlink" title="上下级之间"></a>上下级之间</h2><p>如果是子controller往父controller上发送事件(从作用域往上发送事件)，使用<code>scope.$emit</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$scope.$emit(<span class="string">"someEvent"</span>,&#123;&#125;);</div></pre></td></tr></table></figure>
<p>如果是父controller往子controller上发送事件(从作用域往下发送事件)，使用<code>scope.$broadcast</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$scope.$broadcast(<span class="string">"someEvent"</span>, args);</div></pre></td></tr></table></figure>
<p>无论是<code>$emit</code>还是<code>$broadcast</code>发送的事件，都用<code>$scope.$on</code>来接收：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$scope.$on(<span class="string">"someEvent"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event,data</span>)</span>&#123;</div><div class="line">    <span class="comment">//此处可以获得发送过来的数据data</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="同级之间"><a href="#同级之间" class="headerlink" title="同级之间"></a>同级之间</h2><p>同级之间利用事件通信有两种方式。一种是利用上下级之间事件传播的变形，另一种是借助<code>$rootScope</code>。</p>
<h3 id="借助父controller"><a href="#借助父controller" class="headerlink" title="借助父controller"></a>借助父controller</h3><p>在子controller中向父controller触发一个事件，然后在父controller中监听事件，再广播给子controller，这样通过事件携带的参数，实现了数据经过父controller，在同级controller之间传播。</p>
<p>但是要注意，通过父controller作为中介进行传递的话，子controller触发的事件名和父controller广播用的事件名不能一样，否则会进入死循环。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"outerCtrl"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"innerCtrl1"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span> <span class="attr">ng-change</span>=<span class="string">"change()"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"innerCtrl2"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span> <span class="attr">ng-change</span>=<span class="string">"change()"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">.controller(<span class="string">"outerCtrl"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">    $scope.name = <span class="string">'zhangsan'</span>,</div><div class="line">    $scope.$on(<span class="string">"dataChanged"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event,data</span>)</span>&#123;</div><div class="line">        $scope.name = data;</div><div class="line">        <span class="comment">//2. 父ctrl监听到dataChanged事件后，触发changeData事件</span></div><div class="line">        $scope.$broadcast(<span class="string">"changeData"</span>, data);</div><div class="line">    &#125;);</div><div class="line">&#125;)</div><div class="line">.controller(<span class="string">"innerCtrl1"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">    $scope.change = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">//1. 子controller中数据发生改变之后触发dataChanged事件</span></div><div class="line">        $scope.$emit(<span class="string">"dataChanged"</span>,$scope.name);</div><div class="line">    &#125;</div><div class="line">    $scope.$on(<span class="string">"changeData"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event,data</span>)</span>&#123;</div><div class="line">        $scope.name = data;</div><div class="line">    &#125;)</div><div class="line">&#125;)</div><div class="line">.controller(<span class="string">"innerCtrl2"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">    $scope.change = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        $scope.$emit(<span class="string">"dataChanged"</span>,$scope.name);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//3. 监听到changeData事件后，改变ctrl2中的数据</span></div><div class="line">    $scope.$on(<span class="string">"changeData"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event,data</span>)</span>&#123;</div><div class="line">        $scope.name = data;</div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="借助-rootScope"><a href="#借助-rootScope" class="headerlink" title="借助$rootScope"></a>借助<code>$rootScope</code></h3><p>每个 Angular 应用默认有一个根作用域 <code>$rootScope</code>,根作用域位于最顶层，从它往下挂着各级作用域。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"innerCtrlA"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span> <span class="attr">ng-change</span>=<span class="string">"change()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"innerCtrlB"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span> <span class="attr">ng-change</span>=<span class="string">"change()"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">.controller(<span class="string">'innerCtrlA'</span>, [<span class="string">'$scope'</span>, <span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $rootScope</span>)</span>&#123;</div><div class="line">    $scope.change = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">// 广播事件</span></div><div class="line">        $rootScope.$broadcast(<span class="string">'nameChanged'</span>, $scope.name);</div><div class="line">    &#125;</div><div class="line">    $rootScope.$on(<span class="string">'nameChanged'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event, data</span>)</span>&#123;</div><div class="line">        $scope.name = data;</div><div class="line">    &#125;)</div><div class="line">&#125;])</div><div class="line">.controller(<span class="string">'innerCtrlB'</span>, [<span class="string">'$scope'</span>, <span class="string">'$rootScope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $rootScope</span>)</span>&#123;</div><div class="line">    $scope.change = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        $rootScope.$broadcast(<span class="string">'nameChanged'</span>, $scope.name);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 监听事件</span></div><div class="line">    $rootScope.$on(<span class="string">'nameChanged'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event, data</span>)</span>&#123;</div><div class="line">        $scope.name = data;</div><div class="line">    &#125;)</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/17/J08-条件渲染/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/17/J08-条件渲染/" itemprop="url">
                  条件渲染
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-17T00:00:00+08:00">
                2017-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue-从零开始/" itemprop="url" rel="index">
                    <span itemprop="name">vue--从零开始</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h1><p>在字符串模板中，如Handlebars，我们得像这样写一个条件块：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;#if ok&#125;&#125;</div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Yes<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">&#123;&#123;/if&#125;&#125;</div></pre></td></tr></table></figure>
<p>在vue.js，我们使用<code>v-if</code>指令实现同样的功能：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">"ok"</span>&gt;</span>Yes<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure>
<p>也可以用<code>v-else</code>添加一个else块：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">"ok"</span>&gt;</span>Yes<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>No<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="在-lt-template-gt-中配合v-if条件渲染一整组"><a href="#在-lt-template-gt-中配合v-if条件渲染一整组" class="headerlink" title="在&lt;template&gt;中配合v-if条件渲染一整组"></a>在<code>&lt;template&gt;</code>中配合<code>v-if</code>条件渲染一整组</h2><p>因为<code>v-if</code>是一个指令，需要将它添加到一个元素上。但是如果我们想切换多个元素呢？此时，我们可以把一个<code>&lt;template&gt;</code>元素当做包装元素，并在上面使用<code>v-if</code>。最终的渲染结果不会包含<code>&lt;template&gt;</code>元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">"ok"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Paragraph 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Paragraph 2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="v-else"><a href="#v-else" class="headerlink" title="v-else"></a><code>v-else</code></h2><p>你可以使用<code>v-else</code>指令来表示<code>v-if</code>的else块：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"Math.random()&gt;0.5"</span>&gt;</span></div><div class="line">    Now you see me</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></div><div class="line">    Now you don't</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>v-else</code>元素必须紧跟在<code>v-if</code>或者<code>v-else-if</code>元素的后面–否则他将不会被识别。</p>
<h2 id="v-else-if"><a href="#v-else-if" class="headerlink" title="v-else-if"></a><code>v-else-if</code></h2><p><code>v-else-if</code>,顾名思义，充当<code>v-if</code>的else-if块。可以链式地使用多次：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"type === 'A'"</span>&gt;</span></div><div class="line">    A</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'B'"</span>&gt;</span></div><div class="line">    B</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'C'"</span>&gt;</span></div><div class="line">    C</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></div><div class="line">    Not A/B/C</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>类似于<code>v-else</code>,<code>v-else-if</code>必须紧跟在<code>v-if</code>或者<code>v-else-if</code>元素之后。</p>
<h2 id="用key管理可复用的元素"><a href="#用key管理可复用的元素" class="headerlink" title="用key管理可复用的元素"></a>用key管理可复用的元素</h2><p>vue会尽可能高效的渲染元素，通常会复用已有的元素而不是从头开始渲染。这么做，除了使vue变得非常快之外，还有一些有用的好处。例如，如果你允许用户在不同的登陆方式之间切换：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">"loginType === 'username'"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>username<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"Enter your username"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"Enter your eamil address"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure>
<p>那么在上面的代码中切换<code>loginType</code>将不会清除用户已经输入的内容。因为两个模板使用了相同的元素，<code>input</code>不会被替换掉–仅仅是替换了它的<code>placeholder</code>。</p>
<p>这样也不总是符合实际需求，所以vue提供了一种方式来声明”这两个元素是完全独立的–不要复用他们”。只需添加一个具有唯一值的<code>key</code>属性即可：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">"loginType === 'username'"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>username<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"Enter your username"</span> <span class="attr">key</span>=<span class="string">"username-input"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"Enter your eamil address"</span> <span class="attr">key</span>=<span class="string">"eamil-input"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure>
<p>注意，<code>&lt;label&gt;</code>元素仍然会被高效的复用，因为它们没有添加可以属性。</p>
<h1 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a><code>v-show</code></h1><p>另一个用于根据条件展示元素的选项是<code>v-show</code>指令。用法大致一样：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">"ok"</span>&gt;</span>Hello!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure>
<p>不同的是带有<code>v-show</code>的元素始终会被渲染并保留在DOM中。<code>v-show</code>是简单的切换元素的CSS属性<code>display</code>。</p>
<p>注意，<code>v-show</code>不支持<code>&lt;template&gt;</code>语法，也不支持<code>v-else</code>。</p>
<h1 id="v-if-VS-v-show"><a href="#v-if-VS-v-show" class="headerlink" title="v-if VS v-show"></a><code>v-if</code> VS <code>v-show</code></h1><p><code>v-if</code>是真正的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。</p>
<p><code>v-if</code>也是惰性的：如果在初始渲染时条件为假，则什么也不做–知道条件第一次变为真时，才会开始渲染条件块。</p>
<p>相比之下，<code>v-show</code>就简单得多–不管初始条件是什么，元素总是会被渲染，并且只是简单的基于CSS进行切换。</p>
<p>一般来说，<code>v-if</code>有更高的切换开销，而<code>v-show</code>有更高的渲染开销。因此，如果需要非常频繁的切换，则使用<code>v-show</code>较好；如果在运行时条件不太可能改变，则使用<code>v-if</code>较好。</p>
<h1 id="v-if与v-for一起使用"><a href="#v-if与v-for一起使用" class="headerlink" title="v-if与v-for一起使用"></a><code>v-if</code>与<code>v-for</code>一起使用</h1><p>当<code>v-if</code>与<code>v-for</code>一起使用时，<code>v-for</code>具有比<code>v-if</code>更高的优先级。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/14/J07-Class与Style绑定/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/07/14/J07-Class与Style绑定/" itemprop="url">
                  Class与Style绑定
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-14T00:00:00+08:00">
                2017-07-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue-从零开始/" itemprop="url" rel="index">
                    <span itemprop="name">vue--从零开始</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>数据绑定一个常见需求是操作元素的class列表和他的内联样式。因为他们都是属性，我们可以用v-bind处理他们：只需要计算出表达式最终的字符串。不过，字符串拼接麻烦又易错。因此，在v-bind用于class和style时，vue.js专门增强了它。表达式的结果类型除了字符串之外，还可以是对象或数组。</p>
<h1 id="绑定HTML-Class"><a href="#绑定HTML-Class" class="headerlink" title="绑定HTML Class"></a>绑定HTML Class</h1><h2 id="对象语法"><a href="#对象语法" class="headerlink" title="对象语法"></a>对象语法</h2><p>我们可以传给<code>v-bind:class</code>一个对象，以动态的切换class。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"&#123;active:isActive&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>上面的语法表示class<code>active</code>的更新将取决于数据属性<code>isActive</code>是否为真值。</p>
<p>我们也可以在对象中传入更多属性来动态的切换多个class。此外，<code>v-bind:class</code>指令可以与普通的class属性共存。如下模板：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"static"</span></span></div><div class="line">     <span class="attr">v-bind:class</span>=<span class="string">"&#123;active:isActive,'text-danger':hasError&#125;"</span>&gt; </div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>如下data：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data:&#123;</div><div class="line">    <span class="attr">isActive</span>:<span class="literal">true</span>,</div><div class="line">    <span class="attr">hasError</span>:<span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>渲染为:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"static active"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>当isActive或hasError变化时，class列表将相应的更新。例如，如果hasError的值为true，class列表将被渲染为<code>&quot;static active text-danger&quot;</code>。</p>
<p>你也可以直接绑定数据里的一个对象：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"classObject"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data:&#123;</div><div class="line">    <span class="attr">classObject</span>:&#123;</div><div class="line">        <span class="attr">active</span>:<span class="literal">true</span>,</div><div class="line">        <span class="string">'text-danger'</span>: <span class="literal">false</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>渲染结果和上面一样。我们也可以在这里绑定返回对象的计算属性。这是一个常用且强大的模式。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"classObject"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">data:&#123;</div><div class="line">    <span class="attr">isActive</span>:<span class="literal">true</span>,</div><div class="line">    <span class="attr">error</span>:<span class="literal">null</span></div><div class="line">&#125;,</div><div class="line"><span class="attr">computed</span>:&#123;</div><div class="line">    <span class="attr">classObject</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">active</span>:<span class="keyword">this</span>.isActive &amp;&amp; !<span class="keyword">this</span>.error,</div><div class="line">            <span class="string">'text-danger'</span>:<span class="keyword">this</span>.error &amp;&amp; <span class="keyword">this</span>.error.type === <span class="string">"fatal"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="数组语法"><a href="#数组语法" class="headerlink" title="数组语法"></a>数组语法</h2><p>我们可以把一个数组传给<code>v-bind:class</code>,以应用一个class列表：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"[activeClass,errorClass]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">data:</div><div class="line">&#123;</div><div class="line">    <span class="attr">activeClass</span>:<span class="string">"active"</span>,</div><div class="line">    <span class="attr">errorClass</span>:<span class="string">"text-danger"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>渲染为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"active text-danger"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>如果你也想根据条件切换列表中的class，可以用三元表达式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"[isActive?activeClass:'',errorClass]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>此例始终添加errorClass,但是只有在isActive是true时添加activeClass。</p>
<p>不过，当有多个条件class时这样写有些繁琐。可以在数组语法中使用对象语法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"[&#123;active:isActive&#125;,errorClass]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="用在组件上"><a href="#用在组件上" class="headerlink" title="用在组件上"></a>用在组件上</h2><p>当你在一个定制的组件上用到class属性的时候，这些类将被添加到根元素上面，这个元素上已经存在的类不会被覆盖。</p>
<p>例如，如果你声明了这个组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.component(<span class="string">"my-component"</span>,&#123;</div><div class="line">    <span class="attr">template</span>:<span class="string">"&lt;p class='foo bar'&gt;Hi&lt;/p&gt;"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>然后在使用它的时候添加一些class：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">class</span>=<span class="string">"baz boo"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>html最终被渲染为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"foo bar baz boo"</span>&gt;</span>Hi<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>同样的适用于绑定HTML class：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">v-bind:class</span>=<span class="string">"&#123;active:isActive&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>当isActive为true的时候，HTML将被渲染为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"foo bar active"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="绑定内联样式"><a href="#绑定内联样式" class="headerlink" title="绑定内联样式"></a>绑定内联样式</h1><h2 id="对象语法-1"><a href="#对象语法-1" class="headerlink" title="对象语法"></a>对象语法</h2><p><code>v-bind:style</code>的对象语法十分直观–看着非常像CSS，其实它是一个JavaScript对象。CSS属性名可以用驼峰式或短横分隔命名：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">"&#123;color:activeColor,fontSize:fontSize+'px'&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data:&#123;</div><div class="line">    <span class="attr">activeColor</span>:<span class="string">'red'</span>,</div><div class="line">    <span class="attr">fontSize</span>:<span class="number">30</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>直接绑定到一个样式对象通常更好，让模板更清晰：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">"styleObject"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data:&#123;</div><div class="line">    <span class="attr">styleObject</span>:&#123;</div><div class="line">        <span class="attr">color</span>:<span class="string">'red'</span>,</div><div class="line">        <span class="attr">fontSize</span>:<span class="string">'13px'</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>同样的，对象语法常常结合返回对象的计算属性使用。</p>
<h2 id="数组语法-1"><a href="#数组语法-1" class="headerlink" title="数组语法"></a>数组语法</h2><p><code>v-bind:style</code>的数组语法可以将多个样式对象应用到一个元素上：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">"[baseStyles,overridingStyles]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="自动添加前缀"><a href="#自动添加前缀" class="headerlink" title="自动添加前缀"></a>自动添加前缀</h2><p>当<code>v-bind:style</code>使用需要特定前缀的CSS属性时，如<code>transform</code>,vue.js会自动侦测并添加相应的前缀。</p>
<h2 id="多重值"><a href="#多重值" class="headerlink" title="多重值"></a>多重值</h2><p>从2.3开始你可以为style绑定中的属性提供一个包含多个值的数组，常用于提供多个带前缀的值：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"&#123;display:['-webkit-box','-ms-flexbox','flex']&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这会渲染数组中最后一个被浏览器支持的值。在这个例子中，如果浏览器支持不带浏览器前缀的flexbox，那么渲染结果会是<code>display:flex</code>。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/30/J05-模板语法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/30/J05-模板语法/" itemprop="url">
                  模板语法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-30T00:00:00+08:00">
                2017-06-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue-从零开始/" itemprop="url" rel="index">
                    <span itemprop="name">vue--从零开始</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Vue.js使用了基于html的模板语法，允许开发者声明式的将DOM绑定至底层的vue实例的数据。所有的vue.js的语法都是合法的html，所以能被遵循规范的浏览器和html解析器解析。</p>
<p>在底层的实现上，vue将模板变异成DOM渲染函数。结合响应系统，在应用状态改变时，vue能智能的计算出重新渲染组件的最小代价并应用到DOM操作上。</p>
<h1 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h1><h2 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h2><p>数据绑定最常见的形式就是“Mustache”语法的文本插值：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Message:&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Mustache标签将会被替代为对应数据对象上msg属性的值。无论如何，绑定的数据对象上msg属性发生了变化，插值处的内容都会更新。</p>
<p>通过使用v-once指令，你也能执行一次性的插值，当数据改变时，插值处的内容不会更新。但请留心这会影响到该节点上左右的数据绑定：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-once</span>&gt;</span>This will never change : &#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="纯HTML"><a href="#纯HTML" class="headerlink" title="纯HTML"></a>纯HTML</h2><p>双大括号会将数据解释成纯文本，而非html。为了输出真正的HTML，你需要使用v-html指令：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">'rawHtml'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>被插入的内容都会被当做HTML–数据绑定会被忽略。注意，不能使用v-html来复合局部模板。因为vue不是基于字符串的模板引擎。组件更适合担任UI重用与复合的基本单元。</p>
<p><strong>你的站点上动态渲染的任意 HTML 可能会非常危险，因为它很容易导致 XSS 攻击。请只对可信内容使用 HTML 插值，绝不要对用户提供的内容插值。</strong></p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>迄今为止，在我们的模板中，我们一直只绑定简单的属性键值。但实际上，对于所有的数据绑定，vue.js都提供了完全的JavaScript表达式支持。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; number + 1 &#125;&#125;</div><div class="line"></div><div class="line">&#123;&#123;ok ? 'YES' : 'NO'&#125;&#125;</div><div class="line"></div><div class="line">&#123;&#123; message.split('').reverse().join('') &#125;&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind</span>=<span class="string">"'list-' + id"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这些表达式会在所属的vue实例的数据作用域下作为javascript被解析。有个限制就是，每个绑定都只能包含单个表达式，所以下面的例子<strong>都不会生效</strong>。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 这是语句  不是表达式 --&gt;</span></div><div class="line">&#123;&#123; var a = 1 &#125;&#125;</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 流控制也不会生效 请使用三元表达式 --&gt;</span></div><div class="line">&#123;&#123; if(ok) &#123; return message &#125; &#125;&#125;</div></pre></td></tr></table></figure>
<p><strong>模板表达式都被放在沙盒中，只能访问全局变量的一个白名单，如 Math 和 Date 。你不应该在模板表达式中试图访问用户定义的全局变量。</strong></p>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><p>指令除了带有<code>v-</code>前缀的特殊属性。指令属性的值预期是单一JavaScript表达式（除了<code>v-for</code>）。指令的职责就是当其表达式的值改变时相应的将某些行为应用到DOM上。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">"seen"</span>&gt;</span>Now you see me<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这里，v-if指令将根据表达式seen的值的真假来移除/插入<code>&lt;p&gt;</code>元素。</p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p>一些指令能接受一个参数，在指令后以冒号指明。例如，v-bind指令被用来响应的更新html属性：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这里href是参数，告知v-bind指令将该元素的href属性与表达式url的值绑定。<br>另一个例子是v-on指令，它用于监听DOM事件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">"dosomething"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><p>修饰符是以半角句号<code>.</code>指明的特殊后缀，用于指出一个指令应该以特殊方式绑定。例如，<code>.prevent</code>修饰符告诉v-on指令对于触发的事件调用<code>event.preventDefault()</code>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prenvent</span>=<span class="string">"onSubmit"</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>vue.js允许你自定义过滤器，可被用作一些常见的文本格式化。过滤器可以用在两个地方：mustache插值和v-bind表达式。过滤器应该被添加在JavaScript表达式的尾部，有管道符指示：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; message | capitalize &#125;&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">"rawId | formatId"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>Vue 2.x 中，过滤器只能在 mustache 绑定和 v-bind 表达式（从 2.1.0 开始支持）中使用，因为过滤器设计目的就是用于文本转换。为了在其他指令中实现更复杂的数据变换，你应该使用计算属性。</strong></p>
<p>过滤器函数总接受表达式的值作为第一个参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="comment">//...</span></div><div class="line">    filters:&#123;</div><div class="line">        <span class="attr">capitalize</span>:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(!value) <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">            value = value._toString();</div><div class="line">            <span class="keyword">return</span> value.charAt(<span class="number">0</span>).toUpperCase()+value.slice(<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>过滤器可以串联：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; message | filterA | filterB &#125;&#125;</div></pre></td></tr></table></figure>
<p>过滤器是javascript函数，因此可以接受参数：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123; message | filterA('arg1',arg2) &#125;&#125;</div></pre></td></tr></table></figure>
<p>这里，字符串‘arg1’将传给过滤器作为第二个参数，arg2表达式的值将被求值然后传给过滤器作为第三个参数。</p>
<h2 id="缩写"><a href="#缩写" class="headerlink" title="缩写"></a>缩写</h2><p>v-前缀在模板中是作为一个标示vue特殊属性的明显前缀。当你使用vue<br>.js为现有的标记添加动态行为时他会很有用，但是对于一些经常使用的指令来说有点繁琐。同时，当搭建vue.js管理所有模块的SPA时，v-前缀也就变得没那么重要了。因此，vue.js为两个最为常用的指令提供了特别的缩写：</p>
<h3 id="v-bind缩写"><a href="#v-bind缩写" class="headerlink" title="v-bind缩写"></a><code>v-bind</code>缩写</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 完整 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 缩写 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="v-on缩写"><a href="#v-on缩写" class="headerlink" title="v-on缩写"></a><code>v-on</code>缩写</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">&lt;!-- 完整语法 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">"dosomething"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 缩写 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">"dosomething"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/29/J04-vue实例/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/29/J04-vue实例/" itemprop="url">
                  vue实例
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-29T00:00:00+08:00">
                2017-06-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue-从零开始/" itemprop="url" rel="index">
                    <span itemprop="name">vue--从零开始</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="vue构造器"><a href="#vue构造器" class="headerlink" title="vue构造器"></a>vue构造器</h1><p>每个vue应用都是通过构造函数<code>Vue</code>创建一个Vue的根实例启动的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="comment">//选项</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>虽然没有完全遵守MVVM模式，Vue的设计无疑受到了它的启发。因此文档中经常使用vm（ViewModel的简称）这个变量名来表示Vue的实例。</p>
<p>在实例化Vue时，需要传入一个<strong>选项对象</strong>，它可以包含数据、模板、挂载元素、方法、生命周期钩子等选项。全部的选项可以在API文档中查看。</p>
<p>可以扩展Vue的构造器，从而用预定义选项创建可复用的组件构造器：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> MyComponent = Vue.extend(&#123;</div><div class="line">    <span class="comment">//扩展选项</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// 所有的MyComponent实例都将以预定义的扩展选项被创建</span></div></pre></td></tr></table></figure>
<h1 id="属性和方法"><a href="#属性和方法" class="headerlink" title="属性和方法"></a>属性和方法</h1><p>每个Vue实例都会代理其<code>data</code>对象里所有的属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> data = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</div><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">data</span>:data</div><div class="line">&#125;);</div><div class="line">vm.a === data.a; <span class="comment">//  true</span></div><div class="line"></div><div class="line"><span class="comment">//设置属性也会影响到原始数据</span></div><div class="line">vm.a = <span class="number">3</span>；</div><div class="line">data.a <span class="comment">//  3</span></div><div class="line"></div><div class="line"><span class="comment">//反之一样</span></div><div class="line">data.a = <span class="number">2</span>;</div><div class="line">vm.a  <span class="comment">//  2</span></div></pre></td></tr></table></figure>
<p><strong>注意</strong><br>只有这些被代理的属性是相应的。如果在实例创建之后添加新的属性到实例上，它不会触发视图更新。</p>
<p>除了data属性，vue实例还暴露了一些有用的实例属性和方法。这是属性和方法都有前缀’$’,以便与代理的data属性区分。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> data = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</div><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">el</span>:<span class="string">"#app"</span>,</div><div class="line">    <span class="attr">data</span>:data</div><div class="line">&#125;)</div><div class="line">vm.$data === data; <span class="comment">// true</span></div><div class="line">vm.$el === <span class="built_in">document</span>.getElementById(<span class="string">'app'</span>); <span class="comment">// true</span></div><div class="line">vm.$watch(<span class="string">'a'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">newVal,oldVal</span>)</span>&#123;</div><div class="line">    <span class="comment">//vm.a变化时的回调函数</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><strong>注意</strong><br>不要在实例属性或者回调函数中使用箭头函数。因为箭头函数绑定父级上下文，所以this不会像预想的一样是vue实例，而是this.myMethod未被定义。</p>
<h1 id="实例生命周期"><a href="#实例生命周期" class="headerlink" title="实例生命周期"></a>实例生命周期</h1><p>每个vue实例在被创建之前都要经过一系列的初始化过程。例如，实例需要配置数据观测（data observer）、编译模板、挂载实例到DOM，然后在数据变化时更新DOM。在这个过程中，实例也会调用一些<strong>生命周期钩子</strong>，这就给我们提供了执行自定义逻辑的机会。例如，<code>created</code>这个钩子在实例被创建之后调用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">data</span>:&#123;</div><div class="line">        <span class="attr">a</span>:<span class="number">1</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">created</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"a is: "</span> + <span class="keyword">this</span>.a);</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>也有一些其他的钩子，在实例生命周期的不同阶段调用，如<code>mounted</code>、<code>update</code>、<code>destroyed</code>。钩子的this指向调用它的Vue实例。</p>
<ul>
<li>vue中没有控制器的概念。组件的自定义可以分布在这些钩子中</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/15/H13-ngGrid/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/15/H13-ngGrid/" itemprop="url">
                  ngGrid
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-15T00:00:00+08:00">
                2017-06-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>虽然ng-grid已经升级到了ui-grid，但是由于我们现在正在使用的是ng-grid，因此在这还是对ng-grid做一个总结吧。</p>
<p>ng-grid的使用很简单，在我看来，只需要按照官方提供的一copy就ok了。</p>
<h1 id="基本的列表展示"><a href="#基本的列表展示" class="headerlink" title="基本的列表展示"></a>基本的列表展示</h1><ul>
<li>html</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Getting Started With ngGrid Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"ng-grid.css"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"style.css"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery-1.8.2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"ng-grid-1.3.2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-controller</span>=<span class="string">"MyCtrl"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gridStyle"</span> <span class="attr">ng-grid</span>=<span class="string">"gridOptions"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>js</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, [<span class="string">'ngGrid'</span>]);</div><div class="line">app.controller(<span class="string">'MyCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</div><div class="line">    <span class="comment">//myData一般为从后台获取的数据，数组格式</span></div><div class="line">    $scope.myData = [&#123;<span class="attr">name</span>: <span class="string">"Moroni"</span>, <span class="attr">age</span>: <span class="number">50</span>&#125;,</div><div class="line">                     &#123;<span class="attr">name</span>: <span class="string">"Tiancum"</span>, <span class="attr">age</span>: <span class="number">43</span>&#125;,</div><div class="line">                     &#123;<span class="attr">name</span>: <span class="string">"Jacob"</span>, <span class="attr">age</span>: <span class="number">27</span>&#125;,</div><div class="line">                     &#123;<span class="attr">name</span>: <span class="string">"Nephi"</span>, <span class="attr">age</span>: <span class="number">29</span>&#125;,</div><div class="line">                     &#123;<span class="attr">name</span>: <span class="string">"Enos"</span>, <span class="attr">age</span>: <span class="number">34</span>&#125;];</div><div class="line">    $scope.gridOptions = &#123; <span class="attr">data</span>: <span class="string">'myData'</span> &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h1 id="使用列配置"><a href="#使用列配置" class="headerlink" title="使用列配置"></a>使用列配置</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Getting Started With ngGrid Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span>  </div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"ng-grid.css"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"style.css"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery-1.8.2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"ng-grid-1.3.2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-controller</span>=<span class="string">"MyCtrl"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gridStyle"</span> <span class="attr">ng-grid</span>=<span class="string">"gridOptions"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, [<span class="string">'ngGrid'</span>]);</div><div class="line">    app.controller(<span class="string">'MyCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</div><div class="line">        $scope.myData = [&#123;<span class="attr">name</span>: <span class="string">"Moroni"</span>, <span class="attr">age</span>: <span class="number">50</span>&#125;,</div><div class="line">                         &#123;<span class="attr">name</span>: <span class="string">"Tiancum"</span>, <span class="attr">age</span>: <span class="number">43</span>&#125;,</div><div class="line">                         &#123;<span class="attr">name</span>: <span class="string">"Jacob"</span>, <span class="attr">age</span>: <span class="number">27</span>&#125;,</div><div class="line">                         &#123;<span class="attr">name</span>: <span class="string">"Nephi"</span>, <span class="attr">age</span>: <span class="number">29</span>&#125;,</div><div class="line">                         &#123;<span class="attr">name</span>: <span class="string">"Enos"</span>, <span class="attr">age</span>: <span class="number">34</span>&#125;];</div><div class="line">        $scope.gridOptions = &#123; </div><div class="line">            <span class="attr">data</span>: <span class="string">'myData'</span>,</div><div class="line">            <span class="attr">columnDefs</span>: [&#123;<span class="attr">field</span>:<span class="string">'name'</span>, <span class="attr">displayName</span>:<span class="string">'Name'</span>&#125;, &#123;<span class="attr">field</span>:<span class="string">'age'</span>, <span class="attr">displayName</span>:<span class="string">'Age'</span>&#125;]</div><div class="line">        &#125;;</div><div class="line">    &#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&gt;</div></pre></td></tr></table></figure>
<h1 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-controller</span>=<span class="string">"MyCtrl"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"gridStyle"</span> <span class="attr">ng-grid</span>=<span class="string">"gridOptions"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>, [<span class="string">'ngGrid'</span>]);</div><div class="line">app.controller(<span class="string">'MyCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $http</span>) </span>&#123;</div><div class="line">    $scope.filterOptions = &#123;</div><div class="line">        <span class="attr">filterText</span>: <span class="string">""</span>,</div><div class="line">        <span class="attr">useExternalFilter</span>: <span class="literal">true</span></div><div class="line">    &#125;; </div><div class="line">    $scope.totalServerItems = <span class="number">0</span>;</div><div class="line">    $scope.pagingOptions = &#123;</div><div class="line">        <span class="attr">pageSizes</span>: [<span class="number">250</span>, <span class="number">500</span>, <span class="number">1000</span>],</div><div class="line">        <span class="attr">pageSize</span>: <span class="number">250</span>,</div><div class="line">        <span class="attr">currentPage</span>: <span class="number">1</span></div><div class="line">    &#125;;  </div><div class="line">    $scope.setPagingData = <span class="function"><span class="keyword">function</span>(<span class="params">data, page, pageSize</span>)</span>&#123;  </div><div class="line">        <span class="keyword">var</span> pagedData = data.slice((page - <span class="number">1</span>) * pageSize, page * pageSize);</div><div class="line">        $scope.myData = pagedData;</div><div class="line">        $scope.totalServerItems = data.length;</div><div class="line">        <span class="keyword">if</span> (!$scope.$$phase) &#123;</div><div class="line">            $scope.$apply();</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    $scope.getPagedDataAsync = <span class="function"><span class="keyword">function</span> (<span class="params">pageSize, page, searchText</span>) </span>&#123;</div><div class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> data;</div><div class="line">            <span class="keyword">if</span> (searchText) &#123;</div><div class="line">                <span class="keyword">var</span> ft = searchText.toLowerCase();</div><div class="line">                $http.get(<span class="string">'jsonFiles/largeLoad.json'</span>).success(<span class="function"><span class="keyword">function</span> (<span class="params">largeLoad</span>) </span>&#123;        </div><div class="line">                    data = largeLoad.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</div><div class="line">                        <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(item).toLowerCase().indexOf(ft) != <span class="number">-1</span>;</div><div class="line">                    &#125;);</div><div class="line">                    $scope.setPagingData(data,page,pageSize);</div><div class="line">                &#125;);            </div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                $http.get(<span class="string">'jsonFiles/largeLoad.json'</span>).success(<span class="function"><span class="keyword">function</span> (<span class="params">largeLoad</span>) </span>&#123;</div><div class="line">                    $scope.setPagingData(largeLoad,page,pageSize);</div><div class="line">                &#125;);</div><div class="line">            &#125;</div><div class="line">        &#125;, <span class="number">100</span>);</div><div class="line">    &#125;;</div><div class="line">    </div><div class="line">    $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage);</div><div class="line">    </div><div class="line">    $scope.$watch(<span class="string">'pagingOptions'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (newVal !== oldVal &amp;&amp; newVal.currentPage !== oldVal.currentPage) &#123;</div><div class="line">          $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);</div><div class="line">        &#125;</div><div class="line">    &#125;, <span class="literal">true</span>);</div><div class="line">    $scope.$watch(<span class="string">'filterOptions'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">newVal, oldVal</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (newVal !== oldVal) &#123;</div><div class="line">          $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);</div><div class="line">        &#125;</div><div class="line">    &#125;, <span class="literal">true</span>);</div><div class="line">    </div><div class="line">    $scope.gridOptions = &#123;</div><div class="line">        <span class="attr">data</span>: <span class="string">'myData'</span>,</div><div class="line">        <span class="attr">enablePaging</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">showFooter</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">totalServerItems</span>: <span class="string">'totalServerItems'</span>,</div><div class="line">        <span class="attr">pagingOptions</span>: $scope.pagingOptions,</div><div class="line">        <span class="attr">filterOptions</span>: $scope.filterOptions</div><div class="line">    &#125;;</div><div class="line">&#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h1 id="ng-grid的常用配置API"><a href="#ng-grid的常用配置API" class="headerlink" title="ng-grid的常用配置API"></a>ng-grid的常用配置API</h1><table>
<thead>
<tr>
<th style="text-align:center">属性名</th>
<th style="text-align:center">默认值</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">data</td>
<td style="text-align:center">[]</td>
<td style="text-align:center">用于展示表格的数据</td>
</tr>
<tr>
<td style="text-align:center">enableCellEdit</td>
<td style="text-align:center">false</td>
<td style="text-align:center">单元格是否可编辑</td>
</tr>
<tr>
<td style="text-align:center">jqueryUITheme</td>
<td style="text-align:center">false</td>
<td style="text-align:center">是否使用juqeryUI的主题</td>
</tr>
<tr>
<td style="text-align:center">columnDefs</td>
<td style="text-align:center">undefined</td>
<td style="text-align:center">对列进行自定义，不设置则按默认的展示</td>
</tr>
<tr>
<td style="text-align:center">enableColumnResize</td>
<td style="text-align:center">false</td>
<td style="text-align:center">是否可调整列的大小</td>
</tr>
<tr>
<td style="text-align:center">nableSorting</td>
<td style="text-align:center">true</td>
<td style="text-align:center">是否支持排序</td>
</tr>
<tr>
<td style="text-align:center">headerRowHeight</td>
<td style="text-align:center">32</td>
<td style="text-align:center">标题行的高度，以像素为单位</td>
</tr>
<tr>
<td style="text-align:center">headerRowTemplate</td>
<td style="text-align:center">undefined</td>
<td style="text-align:center">标题行的模板</td>
</tr>
<tr>
<td style="text-align:center">init</td>
<td style="text-align:center"><code>function(grid, $scope) { }</code></td>
<td style="text-align:center">表格初始化后即调用的函数</td>
</tr>
<tr>
<td style="text-align:center">rowHeight</td>
<td style="text-align:center">30</td>
<td style="text-align:center">行高度</td>
</tr>
<tr>
<td style="text-align:center">rowTemplate</td>
<td style="text-align:center">rowTemplate见下</td>
<td style="text-align:center">行模板</td>
</tr>
<tr>
<td style="text-align:center">showColumnMenu</td>
<td style="text-align:center">false</td>
<td style="text-align:center">启用菜单以选择要显示和分组的列。 如果showColumnMenu和showFilter都为false，则菜单按钮将不显示。</td>
</tr>
<tr>
<td style="text-align:center">sortInfo</td>
<td style="text-align:center"><code>{ fields: [], directions: [] }</code></td>
<td style="text-align:center">自定义排序对象</td>
</tr>
<tr>
<td style="text-align:center">multiSelect</td>
<td style="text-align:center">true</td>
<td style="text-align:center">是否可同时选中多行</td>
</tr>
<tr>
<td style="text-align:center">enableCellEditOnFocus</td>
<td style="text-align:center"></td>
<td style="text-align:center">单击单元格聚焦</td>
</tr>
</tbody>
</table>
<ul>
<li>rowTemplate</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-style</span>=<span class="string">"&#123; 'cursor': row.cursor &#125;"</span> <span class="attr">ng-repeat</span>=<span class="string">"col in renderedColumns"</span> <span class="attr">ng-class</span>=<span class="string">"col.colIndex()"</span> <span class="attr">class</span>=<span class="string">"ngCell &#123;&#123;col.cellClass&#125;&#125;"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ngVerticalBar"</span> <span class="attr">ng-style</span>=<span class="string">"&#123;height: rowHeight&#125;"</span> <span class="attr">ng-class</span>=<span class="string">"&#123; ngVerticalBarVisible: !$last &#125;"</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-cell</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>以下配置用于分页</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">属性名</th>
<th style="text-align:center">默认值</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">enablePaging</td>
<td style="text-align:center">false</td>
<td style="text-align:center">是否分页</td>
</tr>
<tr>
<td style="text-align:center">pagingOptions</td>
<td style="text-align:center"><code>{ pageSizes: [250, 500, 1000], pageSize: 250, totalServerItems: 0, currentPage: 1 }</code></td>
<td style="text-align:center">配置分页相关属性 pageSizes: 可选的每页展示数 <br> pageSize:当前显示的展示数量 <br> totalServerItems：数据的总条数 <br> currentPage: 当前的页数</td>
</tr>
<tr>
<td style="text-align:center">filterOptions</td>
<td style="text-align:center"><code>{ filterText: &#39;&#39;, useExternalFilter: false }</code></td>
<td style="text-align:center">过滤</td>
</tr>
</tbody>
</table>
<p><strong>自定义列的配置</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">属性名</th>
<th style="text-align:center">默认值</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">field</td>
<td style="text-align:center"><code>&quot;&quot;</code></td>
<td style="text-align:center">与myData数据中的属性进行关联</td>
</tr>
<tr>
<td style="text-align:center">displayName</td>
<td style="text-align:center">field</td>
<td style="text-align:center">要显示的名称，默认是field设置的属性</td>
</tr>
<tr>
<td style="text-align:center">enableCellEdit</td>
<td style="text-align:center">false</td>
<td style="text-align:center">该列是否可编辑</td>
</tr>
<tr>
<td style="text-align:center">cellClass</td>
<td style="text-align:center"><code>&#39;&#39;</code></td>
<td style="text-align:center">给列添加样式类</td>
</tr>
<tr>
<td style="text-align:center">cellTemplate</td>
<td style="text-align:center">cellTemplate见下</td>
<td style="text-align:center">该列的模板</td>
</tr>
<tr>
<td style="text-align:center">width</td>
<td style="text-align:center"><code>&#39;&#39;</code></td>
<td style="text-align:center">设置列宽度</td>
</tr>
<tr>
<td style="text-align:center">maxWidth</td>
<td style="text-align:center">9000</td>
<td style="text-align:center">设置列的最大宽度</td>
</tr>
<tr>
<td style="text-align:center">minWidth</td>
<td style="text-align:center">50</td>
<td style="text-align:center">设置列的最小宽度</td>
</tr>
<tr>
<td style="text-align:center">editableCellTemplate</td>
<td style="text-align:center"><code>&lt;input ng-class=&quot;&#39;colt&#39; + col.index&quot; ng-input=&quot;COL_FIELD&quot; /&gt;</code></td>
<td style="text-align:center">设置列的编辑状态的模板，当用户使用enableFocusedCellEdit和单元格被聚焦时显示。</td>
</tr>
<tr>
<td style="text-align:center">headerCellTemplate</td>
<td style="text-align:center">headerTemplate见下</td>
<td style="text-align:center">设置列标题单元格的模板</td>
</tr>
<tr>
<td style="text-align:center">pinnable</td>
<td style="text-align:center">true</td>
<td style="text-align:center">列是否可以固定在左边</td>
</tr>
<tr>
<td style="text-align:center">groupable</td>
<td style="text-align:center">true</td>
<td style="text-align:center">是否允许用户对列进行分组</td>
</tr>
<tr>
<td style="text-align:center">resizable</td>
<td style="text-align:center">true</td>
<td style="text-align:center">列的大小是否可调整</td>
</tr>
<tr>
<td style="text-align:center">sortable</td>
<td style="text-align:center">true</td>
<td style="text-align:center">列是否可排序</td>
</tr>
</tbody>
</table>
<ul>
<li>headerTemplate</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ngHeaderSortColumn &#123;&#123;col.headerClass&#125;&#125;"</span> <span class="attr">ng-style</span>=<span class="string">"&#123;'cursor': col.cursor&#125;"</span> <span class="attr">ng-class</span>=<span class="string">"&#123; 'ngSorted': !noSortVisible &#125;"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-click</span>=<span class="string">"col.sort($event)"</span> <span class="attr">ng-class</span>=<span class="string">"'colt' + col.index"</span> <span class="attr">class</span>=<span class="string">"ngHeaderText"</span>&gt;</span>&#123;&#123;col.displayName&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ngSortButtonDown"</span> <span class="attr">ng-show</span>=<span class="string">"col.showSortButtonDown()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ngSortButtonUp"</span> <span class="attr">ng-show</span>=<span class="string">"col.showSortButtonUp()"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ngSortPriority"</span>&gt;</span>&#123;&#123;col.sortPriority&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-class</span>=<span class="string">"&#123; ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned &#125;"</span> <span class="attr">ng-click</span>=<span class="string">"togglePin(col)"</span> <span class="attr">ng-show</span>=<span class="string">"col.pinnable"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-show</span>=<span class="string">"col.resizable"</span> <span class="attr">class</span>=<span class="string">"ngHeaderGrip"</span> <span class="attr">ng-click</span>=<span class="string">"col.gripClick($event)"</span> <span class="attr">ng-mousedown</span>=<span class="string">"col.gripOnMouseDown($event)"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>cellTemplate</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ngCellText"</span> <span class="attr">ng-class</span>=<span class="string">"col.colIndex()"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-cell-text</span>&gt;</span>&#123;&#123;COL_FIELD CUSTOM_FILTERS&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>使用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$scope.gridOptions = &#123;</div><div class="line">	<span class="attr">data</span>: <span class="string">'myData'</span>,</div><div class="line">	<span class="attr">enableColumnResize</span>:<span class="literal">true</span>,</div><div class="line">    <span class="attr">showColumnMenu</span>:<span class="literal">true</span>,</div><div class="line">	<span class="attr">columnDefs</span>: </div><div class="line">		[&#123;<span class="attr">field</span>: <span class="string">'name'</span>,<span class="attr">width</span>:<span class="string">"35%"</span>,<span class="attr">displayName</span>: <span class="string">'属	性名'</span>,<span class="attr">enableCellEdit</span>: <span class="literal">true</span>&#125;, </div><div class="line">		&#123;<span class="attr">field</span>:<span class="string">'value'</span>,<span class="attr">width</span>:<span class="string">"35%"</span>, <span class="attr">displayName</span>:<span class="string">'属性值'</span>,<span class="attr">enableCellEdit</span>: <span class="literal">true</span>&#125;,</div><div class="line">		&#123;<span class="attr">field</span>:<span class="string">'applyToGateway'</span>, <span class="attr">displayName</span>:<span class="string">'下发'</span>,<span class="attr">width</span>:<span class="string">'15%'</span>, <span class="attr">enableCellEdit</span>: <span class="literal">false</span>,<span class="attr">cellTemplate</span>:<span class="string">'&lt;input type="checkbox"  ng-model=" row.entity.applyToGateway" style=" width: 24px;height: 24px;margin-top:3px;"&gt;'</span>&#125;,</div><div class="line">		&#123;<span class="attr">displayName</span>:<span class="string">'操作'</span>,<span class="attr">width</span>:<span class="string">'15%'</span>,<span class="attr">cellTemplate</span>:$scope.revise,<span class="attr">enableCellEdit</span>: <span class="literal">false</span>,<span class="attr">cellTemplate</span>:<span class="string">'&lt;a&gt;&lt;span class="glyphicon glyphicon-remove" style="margin-left:3%;margin-top:6px;color:#d9534f " ng-click="Remove(row)"&gt;&lt;/span&gt;&lt;/a&gt; '</span>&#125;]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/H12-Angular懒加载/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/05/H12-Angular懒加载/" itemprop="url">
                  ocLazyload
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T00:00:00+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Angular组件/" itemprop="url" rel="index">
                    <span itemprop="name">Angular组件</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Angular-懒加载之ocLazyload"><a href="#Angular-懒加载之ocLazyload" class="headerlink" title="Angular 懒加载之ocLazyload"></a>Angular 懒加载之ocLazyload</h1><ul>
<li>1.ocLazyLoad是AngularJS的第三方库，可以实现模块、控制器及其他依赖的动态加载/按需加载</li>
<li>2.$ocLazyLoad.load()支持多个文件，可以自定义指定文件类型，可以自定义指定是否缓存在客户端</li>
<li>3.在 AngularJs 实现动态（懒）加载主要是依赖于3个主js文件</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular/1.4.8/angular/angular.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular/ui-router/release/angular-ui-router.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular/oclazyload/src/ocLazyLoad.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="具体使用"><a href="#具体使用" class="headerlink" title="具体使用"></a>具体使用</h2><ul>
<li>配置ocLazyload</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">var</span> app = angular.module(<span class="string">'pkcms'</span>, [<span class="string">"ui.router"</span>, <span class="string">"oc.lazyLoad"</span>]);</div><div class="line"> app.config([<span class="string">'$ocLazyLoadProvider'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$ocLazyLoadProvider</span>)</span>&#123;</div><div class="line">    $ocLazyLoadProvider.config(&#123;</div><div class="line">        <span class="comment">//loadedModules: ['monitorApp'],//主模块名,和ng.bootstrap(document, ['monitorApp'])相同</span></div><div class="line">       <span class="comment">// jsLoader: requirejs, //使用requirejs去加载文件</span></div><div class="line">        <span class="comment">//files: ['modules/summary','modules/appEngine','modules/alarm','modules/database'], //主模块需要的资源，这里主要子模块的声明文件</span></div><div class="line">        debug: <span class="literal">true</span>,</div><div class="line">        <span class="attr">modules</span>: [</div><div class="line">              &#123;</div><div class="line">                  <span class="attr">name</span>: <span class="string">'ngGrid'</span>,</div><div class="line">                  <span class="attr">files</span>: [</div><div class="line">                      <span class="string">'vendor/modules/ng-grid/ng-grid.min.js'</span>,</div><div class="line">                      <span class="string">'vendor/modules/ng-grid/ng-grid.min.css'</span>,</div><div class="line">                      <span class="string">'vendor/modules/ng-grid/theme.css'</span></div><div class="line">                  ]</div><div class="line">              &#125;,                           </div><div class="line">              &#123;</div><div class="line">                  <span class="attr">name</span>: <span class="string">'ui.select'</span>,</div><div class="line">                  <span class="attr">files</span>: [</div><div class="line">                      <span class="string">'vendor/modules/angular-ui-select/select.min.js'</span>,</div><div class="line">                      <span class="string">'vendor/modules/angular-ui-select/select.min.css'</span></div><div class="line">                  ]</div><div class="line">              &#125;]</div><div class="line">    &#125;);</div><div class="line">&#125;]);</div></pre></td></tr></table></figure>
<ul>
<li>配置uiRouter</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'app'</span>)</div><div class="line">  .config([<span class="string">'$stateProvider'</span>, <span class="string">'$urlRouterProvider'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">$stateProvider,$urlRouterProvider</span>) </span>&#123;</div><div class="line">          $urlRouterProvider.otherwise(<span class="string">'/app/main/index'</span>);</div><div class="line">          $stateProvider</div><div class="line">            .state(<span class="string">'app.gateway.gateway'</span>,&#123;</div><div class="line">                <span class="attr">url</span>: <span class="string">'/gateway'</span>,</div><div class="line">                <span class="attr">templateUrl</span>: <span class="string">'tpl/gateway.html'</span>,</div><div class="line">                <span class="attr">resolve</span>: &#123;</div><div class="line">                    <span class="attr">deps</span>: [<span class="string">'$ocLazyLoad'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"> $ocLazyLoad </span>)</span>&#123;</div><div class="line">                        <span class="comment">//加载多个模块或者文件时使用数组</span></div><div class="line">                        <span class="keyword">return</span> $ocLazyLoad.load(<span class="string">'ngGrid'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                            <span class="keyword">return</span> $ocLazyLoad.load(<span class="string">'js/controllers/gateway.js'</span>);</div><div class="line">                          &#125;);</div><div class="line">                      &#125;]</div><div class="line">                  &#125;</div><div class="line">              &#125;)</div><div class="line">  &#125;]);</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/03/H11-Angular组件-router/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/03/H11-Angular组件-router/" itemprop="url">
                  ui-router
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-03T00:00:00+08:00">
                2017-06-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Angular组件/" itemprop="url" rel="index">
                    <span itemprop="name">Angular组件</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ui-router"><a href="#ui-router" class="headerlink" title="ui-router"></a>ui-router</h1><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">"myApp"</span>,[<span class="string">"ui.router"</span>]);</div></pre></td></tr></table></figure>
<ul>
<li>和ngRouter服务不同的是<ul>
<li>（1）ui-router可以进行视图的嵌套；</li>
<li>（2）视图的存放位置使用ui-view来指定，每一个ui-view下面也可以包含自己的ui-view；</li>
<li>（3）使用config对路由进行配置时，使用的不是$routerProvider而是$stateProvider。</li>
</ul>
</li>
<li>定义路由的方式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> .config(<span class="function"><span class="keyword">function</span>(<span class="params">$stateProvider, $urlRouterProvider</span>) </span>&#123;</div><div class="line">    $stateProvider</div><div class="line">      .state(<span class="string">'start'</span>, &#123;</div><div class="line">        <span class="attr">url</span>: <span class="string">'/start'</span>,</div><div class="line">        <span class="attr">templateUrl</span>: <span class="string">'partials/start.html'</span></div><div class="line">      &#125;)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="路由嵌套"><a href="#路由嵌套" class="headerlink" title="路由嵌套"></a>路由嵌套</h2><ul>
<li>使用url参数可是实现路由嵌套</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$stateProvider</div><div class="line">  .state('inbox', &#123;</div><div class="line">    url: '/inbox/:inboxId',</div><div class="line">    template: '<span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Welcome to your inbox<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">ui-sref</span>=<span class="string">"inbox.priority"</span>&gt;</span>Show priority<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">ui-view</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span>',</div><div class="line">    controller: function($scope, $stateParams) &#123;</div><div class="line">      $scope.inboxId = $stateParams.inboxId;</div><div class="line">    &#125;</div><div class="line">  &#125;)</div><div class="line">  .state('inbox.priority', &#123;</div><div class="line">    url: '/priority',</div><div class="line">    template: '<span class="tag">&lt;<span class="name">h2</span>&gt;</span>Your priority inbox<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>'</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<ul>
<li>第一个state是平时常见的路由，第二个state是二级路由，即使用”.”来进行子路由的定义。</li>
</ul>
<h2 id="abstract抽象模块"><a href="#abstract抽象模块" class="headerlink" title="abstract抽象模块"></a>abstract抽象模块</h2><ul>
<li>抽象模块不能被激活，但是他的子模块可以。抽象模块提供了一个包括了多个有名的视图的模板，或者它可以传递作用域变量$scope给子模板。</li>
<li>使用时除了需要添加abstract属性外，其他设置和设定一个常规状态是相同的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$stateProvider</div><div class="line">  .state(<span class="string">'admin'</span>, &#123;</div><div class="line">    <span class="attr">abstract</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">url</span>: <span class="string">'/admin'</span>,</div><div class="line">    <span class="attr">template</span>: <span class="string">'&lt;div ui-view&gt;&lt;/div&gt;'</span></div><div class="line">  &#125;)</div><div class="line">  .state(<span class="string">'admin.index'</span>, &#123;</div><div class="line">    <span class="attr">url</span>: <span class="string">'/index'</span>,</div><div class="line">    <span class="attr">template</span>: <span class="string">'&lt;h3&gt;Admin index&lt;/h3&gt;'</span></div><div class="line">  &#125;)</div><div class="line">  .state(<span class="string">'admin.users'</span>, &#123;</div><div class="line">    <span class="attr">url</span>: <span class="string">'/users'</span>,</div><div class="line">    <span class="attr">template</span>: <span class="string">'&lt;ul&gt;...&lt;/ul&gt;'</span></div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<h2 id="urlRouterProvider"><a href="#urlRouterProvider" class="headerlink" title="$urlRouterProvider"></a>$urlRouterProvider</h2><ul>
<li>和ngRoute一样，开发者可以在该对象上设定特定的URL被激活时做什么的规则。由于设定好的状态在特定的url被访问是会自动激活，所以$urlRouterProvider没有必要用来管理激活和载入状态。但当需要管理哪些被发生在当前状态之外的作用域scope时它会非常有用，例如在重定向或者安全验证的时候。在模块的设置函数里便可使用$urlRouterProvider。<br><strong>when()</strong></li>
<li>该函数需要两个参数，第一个是当前的路径，第二个是需要重定向到的路径（或者是需要在路径被访问是运行的函数）。</li>
<li>如果传递的是函数，在路径被匹配时该函数会被执行，处理器返回如下3个值中的一个<ul>
<li>（1）falsy，该回应告诉$urlRouter没有匹配到当前url规则，应该尝试匹配新的路径，这样能保证用户访问了正常的路径。 - 字符串，$urlRouter将该字符串当做重定向的路径。 </li>
<li>（2）TRUE 或者 undefined，该回应告诉$urlRouter，url已被处理</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.config(<span class="function"><span class="keyword">function</span>(<span class="params">$urlRouterProvider</span>) </span>&#123;</div><div class="line">  $urlRouterProvider.when(<span class="string">''</span>, <span class="string">'/inbox'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><strong>otherwise()</strong></p>
<ul>
<li>和ngRoute的otherwise()函数相似，在用户提交的路径没有被定义的时候它将重定向到指定的页面。这是个创建’默认‘路径的好方法。otherwise()只接受一个参数，要么函数要么字符串，字符串必须为合法的url路由地址，函数则会在没有任何路径被匹配的时候被运行。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">.config(<span class="function"><span class="keyword">function</span>(<span class="params">$urlRouterProvider</span>) </span>&#123;</div><div class="line">  $urlRouterProvider.otherwise(<span class="string">'/'</span>);</div><div class="line">  <span class="comment">// or</span></div><div class="line">  $urlRouterProvider.otherwise(</div><div class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">$injector, $location</span>) </span>&#123;</div><div class="line">      $location.path(<span class="string">'/'</span>);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="stateProvider"><a href="#stateProvider" class="headerlink" title="$stateProvider"></a>$stateProvider</h2><ul>
<li>有三种方式激活一个状态<ul>
<li>调用go()方法</li>
<li>使用ui-sref指示地址</li>
<li>使用state()导航至进行关联的url</li>
</ul>
</li>
</ul>
<h3 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//templateUrl的值可以是字符串，也可以是一个函数</span></div><div class="line">$stateProvider.state(<span class="string">'contacts'</span>, &#123;  </div><div class="line">  <span class="attr">templateUrl</span>: <span class="string">'contacts.html'</span>  </div><div class="line">&#125;);</div><div class="line"><span class="comment">//函数</span></div><div class="line">$stateProvider.state(<span class="string">'contacts'</span>, &#123;  </div><div class="line">  <span class="attr">templateUrl</span>: <span class="function"><span class="keyword">function</span> (<span class="params">stateParams</span>)</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="string">'/partials/contacts.'</span> + stateParams.filterBy + <span class="string">'.html'</span>;  </div><div class="line">  &#125;  </div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>可以使用注入功能，但是必须返回html</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$stateProvider.state(<span class="string">'contacts'</span>, &#123;  </div><div class="line">  <span class="attr">templateProvider</span>: <span class="function"><span class="keyword">function</span> (<span class="params">$timeout, $stateParams</span>) </span>&#123;  </div><div class="line">    <span class="keyword">return</span> $timeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </div><div class="line">      <span class="keyword">return</span> <span class="string">'&lt;h1&gt;'</span> + $stateParams.contactId + <span class="string">'&lt;/h1&gt;'</span>  </div><div class="line">    &#125;, <span class="number">100</span>);  </div><div class="line">  &#125;  </div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h3><ul>
<li>可以使用控制器<strong>controller</strong>，但是必须要有模板</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$stateProvider.state(<span class="string">'contacts'</span>, &#123;  </div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;'</span>,  </div><div class="line">  <span class="attr">controller</span>: <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;  </div><div class="line">    $scope.title = <span class="string">'My Contacts'</span>;  </div><div class="line">  &#125;  </div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h3><ul>
<li>resolve可以为控制器提供可选的依赖注入项。</li>
<li>在controller实例化之前，resolve中的每一个对象都必须 be resolved</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">$stateProvider.state(<span class="string">'myState'</span>, &#123;</div><div class="line">      <span class="attr">resolve</span>:&#123;</div><div class="line">         <span class="comment">// Since it's not a promise, it resolves immediately.</span></div><div class="line">         simpleObj:  <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> &#123;<span class="attr">value</span>: <span class="string">'simple!'</span>&#125;;</div><div class="line">         &#125;,</div><div class="line">         <span class="comment">// 这是一种典型使用方式</span></div><div class="line">         <span class="comment">// 请给函数注入任何想要的服务依赖，例如 $http</span></div><div class="line">         promiseObj:  <span class="function"><span class="keyword">function</span>(<span class="params">$http</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> $http(&#123;<span class="attr">method</span>: <span class="string">'GET'</span>, <span class="attr">url</span>: <span class="string">'/someUrl'</span>&#125;);</div><div class="line">         &#125;,</div><div class="line">         <span class="comment">// 如果想对返回结果进行处理， 可以使用 .then 方法</span></div><div class="line">         <span class="comment">// 这是另一种典型使用方式</span></div><div class="line">         promiseObj2:  <span class="function"><span class="keyword">function</span>(<span class="params">$http</span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> $http(&#123;<span class="attr">method</span>: <span class="string">'GET'</span>, <span class="attr">url</span>: <span class="string">'/someUrl'</span>&#125;)</div><div class="line">               .then (<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">                   <span class="keyword">return</span> doSomeStuffFirst(data);</div><div class="line">               &#125;);</div><div class="line">         &#125;,        </div><div class="line">         <span class="comment">// 使用服务名的例子，这将在模块中查找名称为 'translations' 的服务，并返回该服务 </span></div><div class="line">         translations: <span class="string">"translations"</span>,</div><div class="line">         <span class="comment">// 将服务模块作为解决函数的依赖项，通过参数传入</span></div><div class="line">         <span class="comment">// 提示：依赖项 $stateParams 代表 url 中的参数</span></div><div class="line">         translations2: <span class="function"><span class="keyword">function</span>(<span class="params">translations, $stateParams</span>)</span>&#123;</div><div class="line">             translations.getLang($stateParams.lang);</div><div class="line">         &#125;,</div><div class="line">         <span class="attr">greeting</span>: <span class="function"><span class="keyword">function</span>(<span class="params">$q, $timeout</span>)</span>&#123;</div><div class="line">             <span class="keyword">var</span> deferred = $q.defer();</div><div class="line">             $timeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                 deferred.resolve(<span class="string">'Hello!'</span>);</div><div class="line">             &#125;, <span class="number">1000</span>);</div><div class="line">             <span class="keyword">return</span> deferred.promise;</div><div class="line">         &#125;</div><div class="line">      &#125;,</div><div class="line">      <span class="comment">// 控制器将等待上面的解决项都被解决后才被实例化</span></div><div class="line">      controller: <span class="function"><span class="keyword">function</span>(<span class="params">$scope, simpleObj, promiseObj, promiseObj2, translations, translations2, greeting</span>)</span>&#123;</div><div class="line">          </div><div class="line">          $scope.simple = simpleObj.value;</div><div class="line">          <span class="comment">// 这里可以放心使用 promiseObj 中的对象</span></div><div class="line">          $scope.items = promiseObj.items;</div><div class="line">          $scope.items = promiseObj2.items;</div><div class="line">          $scope.title = translations.getLang(<span class="string">"english"</span>).title;</div><div class="line">          $scope.title = translations2.title;</div><div class="line">          $scope.greeting = greeting;</div><div class="line">      &#125;</div><div class="line">   &#125;)</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/01/Z00-随笔/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qcyue">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/tx1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Shining Moon">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/01/Z00-随笔/" itemprop="url">
                  小愚怡情，大愚伤身
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-01T00:00:00+08:00">
                2017-04-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/随笔/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="写在开头"><a href="#写在开头" class="headerlink" title="写在开头"></a>写在开头</h2><p><strong>我们在梦里走了许多路，醒来后才发现自己还在床上。</strong></p>
<h3 id="关于人"><a href="#关于人" class="headerlink" title="关于人"></a>关于人</h3><p>每个人都该有一段梦想，在践行的路上跌跌撞撞。这段旅程，是孤独的，同时也是充实的，最需要的，无非就是一个懂你的人而已。越来越发现，懂—-何其难。曾经那些一起谈天侃地的人你们在哪？什么时候可以再相聚，再说一说我们未说完的话。。。。。。</p>
<h3 id="关于鸡"><a href="#关于鸡" class="headerlink" title="关于鸡"></a>关于鸡</h3><p>曾看过一句鸡汤：“努力到无能为力，拼搏到感动自己”，就好像回到了高中时代–“只要累不死，就往死里学”。其实，每个人都很累，大多数人其实在现实生活中是用尽了力气也只不过完成了最普通的生活。鸡本无辜，何必煮汤。</p>
<h3 id="关于我"><a href="#关于我" class="headerlink" title="关于我"></a>关于我</h3><p>在这特殊的一天，想着有个人可以倾其脑容量，只为博你一笑；想着我们大衡水什么时候可以成为衡安新区；想着和爸妈一起聚在一个小别墅里，过着开心幸福的生活。。。。。。。。</p>
<p>孩子，醒醒吧，今天只是愚人节而已！！！</p>
<p>最后，给大家朗诵一首我喜欢的诗，请听<del>~</del>~~</p>
<p>那一天，<br>我闭目在经殿的香雾中，<br>蓦然听见你颂经中的真言；</p>
<p>那一月，<br>我摇动所有的经筒，<br>不为超度，<br>只为触摸你的指尖；</p>
<p>那一年，<br>磕长头匍匐在山路，<br>不为觐见，<br>只为贴着你的温暖；</p>
<p>那一世，<br>转山转水转佛塔，<br>不为修来世，<br>只为途中与你相见。</p>
<p>那一月，<br>我轻转过所有经筒，<br>不为超度，<br>只为触摸你的指纹；</p>
<p>那一年，<br>我磕长头拥抱尘埃，<br>不为朝佛，<br>只为贴着你的温暖；</p>
<p>那一世，<br>我细翻遍十万大山，<br>不为修来世，<br>只为路中能与你相遇；</p>
<p>只是，就在那一夜，我忘却了所有，<br>抛却了信仰，舍弃了轮回，<br>只为，那曾在佛前哭泣的玫瑰，<br>早已失去旧日的光泽。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/tx1.jpg"
               alt="Qcyue" />
          <p class="site-author-name" itemprop="name">Qcyue</p>
           
              <p class="site-description motion-element" itemprop="description">生活，我们是认真的！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">68</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qcyue</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
